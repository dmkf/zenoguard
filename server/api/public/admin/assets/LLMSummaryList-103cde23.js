/* empty css             *//* empty css                        *//* empty css                *//* empty css                  *//* empty css                   *//* empty css                 *//* empty css                  */import{d as D,K as T,c as k,a,w as t,p as N,b as Y,i as H,E as I,o as y,e as _,t as r,g as d,M as P,n as R,r as n,O as V,l as j,Q as U,R as A,S as K,ab as O,T as Q,_ as $}from"./index-f7b4a7a3.js";import{h}from"./host-3aae7e3b.js";const q={class:"llm-summary-list"},F={class:"card-header"},G={class:"summary-cell"},J=D({__name:"LLMSummaryList",setup(W){const i=N(),b=Y(),u=n(!1),g=n(),f=n([]),c=n(1),m=n(20),v=n(0);async function L(){try{const s=await h.get(Number(i.params.id));g.value=s}catch{H.error("获取主机信息失败")}}async function p(){u.value=!0;try{const s=await h.llmSummaries(Number(i.params.id),{page:c.value,per_page:m.value});f.value=s.data,v.value=s.total}finally{u.value=!1}}function S(){b.push(`/hosts/${i.params.id}/data`)}function E(s){return V(s).format("YYYY-MM-DD HH:mm:ss")}return T(()=>{L(),p()}),(s,o)=>{const M=j,l=U,w=A,C=K,x=O,z=I,B=Q;return y(),k("div",q,[a(z,null,{header:t(()=>{var e;return[_("div",F,[_("span",null,"LLM分析历史 - "+r((e=g.value)==null?void 0:e.hostname),1),a(M,{onClick:S},{default:t(()=>[...o[2]||(o[2]=[d("返回",-1)])]),_:1})])]}),default:t(()=>[P((y(),R(C,{data:f.value,stripe:""},{default:t(()=>[a(l,{prop:"id",label:"ID",width:"80"}),a(l,{label:"分析时间",width:"180"},{default:t(({row:e})=>[d(r(E(e.analysis_time)),1)]),_:1}),a(l,{prop:"summary",label:"分析结果","min-width":"300"},{default:t(({row:e})=>[_("div",G,r(e.summary),1)]),_:1}),a(l,{label:"状态",width:"100"},{default:t(({row:e})=>[a(w,{type:e.is_alert?"danger":"success"},{default:t(()=>[d(r(e.is_alert?"预警":"正常"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])),[[B,u.value]]),a(x,{"current-page":c.value,"onUpdate:currentPage":o[0]||(o[0]=e=>c.value=e),"page-size":m.value,"onUpdate:pageSize":o[1]||(o[1]=e=>m.value=e),total:v.value,"page-sizes":[20,50,100],layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:p,onSizeChange:p},null,8,["current-page","page-size","total"])]),_:1})])}}});const re=$(J,[["__scopeId","data-v-d01639ee"]]);export{re as default};
